# TODO: Check what these do
typeset -U path cdpath fpath manpath

# Enable completion
autoload -U compinit && compinit

# Menu select style completion
zstyle ':completion:*' menu select

# Use emacs keymap as the default.
bindkey -e

# Add plugins
zsh_autosuggestions_path=$ZDOTDIR/plugins/zsh-autosuggestions/zsh-autosuggestions.zsh
if [ -f $zsh_autosuggestions_path ]; then
  source $zsh_autosuggestions_path
else
  echo "Missing plugin: zsh-autosuggestions"
fi
unset zsh_autosuggestions_path

zsh_syntax_highlighting_path=$ZDOTDIR/plugins/zsh-syntax-highlighting/zsh-syntax-highlighting.zsh
if [ -f $zsh_syntax_highlighting_path ]; then
  source $zsh_syntax_highlighting_path
else
  echo "Missing plugin: zsh-syntax-highlighting"
fi
unset zsh_syntax_highlighting_path

# History options
HISTFILE=$ZDOTDIR/zsh_history
HISTSIZE="1000000"
SAVEHIST="1000000"

setopt HIST_FCNTL_LOCK
setopt HIST_IGNORE_DUPS
setopt HIST_IGNORE_SPACE
unsetopt HIST_EXPIRE_DUPS_FIRST
setopt SHARE_HISTORY
setopt EXTENDED_HISTORY

# Aliases
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias ......='cd ../../../../..'
alias ll='ls -l'
alias v='nvim'
alias vi='nvim'
alias vim='nvim'
alias g='git'
alias cfg='cd /etc/nixos'
alias cfgu='cd /etc/nixos/apps'
